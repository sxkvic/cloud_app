<!--pages/home/home.wxml-->
<view class="home-page">
  <!-- 1. 顶部账户信息卡片 -->
  <view class="header-section">
    <view class="account-card">
      <view class="account-info">
        <view class="user-row">
          <text class="customer-name">{{customerName || '用户名称'}}</text>
        </view>
        <view class="balance-row">
          <text class="balance-label">账户余额 (元)</text>
          <text class="balance-amount">￥{{balance || '0.00'}}</text>
        </view>
      </view>
      <view class="recharge-btn" bindtap="navigateToRecharge">
        <text>立即充值</text>
      </view>
    </view>
  </view>

  <view class="content-body">
    <!-- 2. 常用服务 -->
    <view class="common-services-section">
      <text class="section-title">常用服务</text>
      <view class="services-grid">
        <view 
          wx:for="{{commonServices}}" 
          wx:key="title"
          class="service-card"
          style="background-color: {{item.bgColor}}"
          bindtap="navigateToPage"
          data-route="{{item.route}}"
        >
          <view class="icon-wrapper" style="background-color: {{item.iconBgColor}}">
            <text class="iconfont {{item.iconClass}} service-icon"></text>
          </view>
          <view class="text-wrapper">
            <text class="service-title">{{item.title}}</text>
            <text class="service-subtitle">{{item.subtitle}}</text>
          </view>
        </view>
      </view>
    </view>

    <!-- 3. 轮播图广告 -->
    <view class="swipe-section">
      <swiper 
        class="promo-swipe" 
        autoplay="{{true}}" 
        interval="5000" 
        duration="500"
        indicator-dots="{{true}}"
        indicator-color="rgba(0,0,0,0.3)"
        indicator-active-color="#4D6AFF"
        circular="{{true}}"
      >
        <swiper-item wx:for="{{slides}}" wx:key="index">
          <view class="swipe-item">
            <image src="{{item.image}}" class="swipe-image" mode="aspectFill" />
          </view>
        </swiper-item>
      </swiper>
    </view>

    <!-- 4. 全部功能 -->
    <view class="all-features-section">
      <text class="section-title">全部功能</text>
      <view class="features-grid">
        <view 
          wx:for="{{allFeatures}}" 
          wx:key="text"
          class="feature-item"
          bindtap="navigateToPage"
          data-route="{{item.route}}"
        >
          <view class="feature-icon" style="color: {{item.color}}">
            <text class="iconfont {{item.iconClass}}"></text>
          </view>
          <text class="feature-text">{{item.text}}</text>
        </view>
      </view>
    </view>
  </view>
</view>

<!-- 底部导航栏 -->
<van-tabbar active="{{ 0 }}" bind:change="onTabChange">
  <van-tabbar-item icon="home-o">首页</van-tabbar-item>
  <van-tabbar-item icon="user-o">我的</van-tabbar-item>
</van-tabbar>

