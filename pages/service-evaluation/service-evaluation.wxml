<!--pages/service-evaluation/service-evaluation.wxml-->
<view class="evaluation-page">
  <!-- é¡µé¢å¤´éƒ¨ -->
  <view class="page-header">
    <view class="header-icon">â­</view>
    <text class="page-title">æœåŠ¡è¯„ä»·</text>
    <text class="page-subtitle">æ‚¨çš„è¯„ä»·æ˜¯æˆ‘ä»¬å‰è¿›çš„åŠ¨åŠ›</text>
  </view>

  <!-- è¯„åˆ†å¡ç‰‡å®¹å™¨ -->
  <view class="rating-cards">
    <!-- å“åº”é€Ÿåº¦ -->
    <view class="rating-card">
      <view class="card-header">
        <view class="card-icon">âš¡</view>
        <view class="card-title">å“åº”é€Ÿåº¦</view>
      </view>
      <view class="star-container">
        <view 
          class="star-item"
          wx:for="{{ 5 }}"
          wx:key="index"
          bindtap="setRating"
          data-type="response_speed"
          data-rating="{{ index + 1 }}"
        >
          <text class="star {{ index < ratings.response_speed ? 'active' : '' }}">â˜…</text>
        </view>
      </view>
      <view class="rating-desc">{{ getRatingText(ratings.response_speed) }}</view>
    </view>

    <!-- æœåŠ¡è´¨é‡ -->
    <view class="rating-card">
      <view class="card-header">
        <view class="card-icon">ğŸ‘</view>
        <view class="card-title">æœåŠ¡è´¨é‡</view>
      </view>
      <view class="star-container">
        <view 
          class="star-item"
          wx:for="{{ 5 }}"
          wx:key="index"
          bindtap="setRating"
          data-type="service_quality"
          data-rating="{{ index + 1 }}"
        >
          <text class="star {{ index < ratings.service_quality ? 'active' : '' }}">â˜…</text>
        </view>
      </view>
      <view class="rating-desc">{{ getRatingText(ratings.service_quality) }}</view>
    </view>

    <!-- æœåŠ¡æ€åº¦ -->
    <view class="rating-card">
      <view class="card-header">
        <view class="card-icon">ğŸ˜Š</view>
        <view class="card-title">æœåŠ¡æ€åº¦</view>
      </view>
      <view class="star-container">
        <view 
          class="star-item"
          wx:for="{{ 5 }}"
          wx:key="index"
          bindtap="setRating"
          data-type="service_attitude"
          data-rating="{{ index + 1 }}"
        >
          <text class="star {{ index < ratings.service_attitude ? 'active' : '' }}">â˜…</text>
        </view>
      </view>
      <view class="rating-desc">{{ getRatingText(ratings.service_attitude) }}</view>
    </view>
  </view>

  <!-- æäº¤æŒ‰é’® -->
  <view class="submit-container">
    <button 
      class="submit-btn {{ canSubmit ? '' : 'disabled' }}" 
      disabled="{{ !canSubmit }}"
      bindtap="submitEvaluation"
    >
      æäº¤è¯„ä»·
    </button>
  </view>
</view>