<!--pages/my-bill/my-bill.wxml-->
<view class="my-bill-page">
  <scroll-view class="list-scroll-view" scroll-y enhanced show-scrollbar="{{false}}">
    <view class="list-content">
      <!-- 头部卡片 -->
      <view class="header-card">
        <view class="customer-info">
          <text class="customer-name">{{ customerInfo.customer_name || '加载中...' }}</text>
          <text class="device-code">设备号：{{ deviceCode }}</text>
        </view>
      </view>

      <!-- 账单列表 -->
      <view class="bill-list-section">
        <view class="section-title">
          <text class="title-text">我的账单</text>
          <text class="bill-count">共 {{ bills.length }} 条</text>
        </view>
        
        <view class="bill-cards">
          <view 
            wx:for="{{ bills }}" 
            wx:key="id" 
            class="bill-card {{ item.status }}"
            bindtap="viewBillDetail"
            data-id="{{ item.id }}"
          >
            <view class="card-header">
              <view class="bill-title-row">
                <text class="bill-name">{{ item.title }}</text>
                <text class="bill-status {{ item.status }}">{{ item.statusText }}</text>
              </view>
              <text class="bill-no">账单号：{{ item.billNo }}</text>
            </view>
            
            <view class="card-content">
              <view class="info-item">
                <text class="info-label">计费周期</text>
                <text class="info-value">{{ item.period }}</text>
              </view>
              <view class="info-item">
                <text class="info-label">创建时间</text>
                <text class="info-value">{{ item.date }}</text>
              </view>
            </view>
            
            <view class="card-footer">
              <view class="amount-section">
                <text class="amount-label">账单金额</text>
                <text class="amount-value">{{ item.amount }}</text>
              </view>
              <view class="view-detail">
                <text class="detail-text">查看详情</text>
                <text class="arrow-icon">→</text>
              </view>
            </view>
          </view>
        </view>
      </view>
    </view>
  </scroll-view>
</view>
