# 首页图标集成说明

## 已完成的修改

### 1. 创建的文件

#### `styles/iconfont.wxss`
- 阿里巴巴图标库的样式文件
- 包含字体定义和图标类名
- **需要你手动更新字体 URL**

#### `docs/iconfont使用指南.md`
- 完整的使用指南
- 包含从注册到使用的所有步骤
- 推荐的图标配置

### 2. 修改的文件

#### `pages/home/home.wxml`
**修改内容**：
- 通知铃铛：`🔔` → `<text class="iconfont icon-tongzhi bell-icon"></text>`
- 常用服务图标：`{{item.iconText}}` → `<text class="iconfont {{item.iconClass}} service-icon"></text>`
- 全部功能图标：`{{item.iconText}}` → `<text class="iconfont {{item.iconClass}}"></text>`

#### `pages/home/home.js`
**修改内容**：
- 将所有 `iconText` 字段改为 `iconClass`
- 使用 iconfont 类名替代 emoji

**修改前**：
```javascript
{
  title: '套餐订购',
  subtitle: '升级您的网络',
  iconText: '🛒',  // emoji
  bgColor: '#f0f6ff',
  iconBgColor: '#409eff',
  route: '/pages/package-order/package-order'
}
```

**修改后**：
```javascript
{
  title: '套餐订购',
  subtitle: '升级您的网络',
  iconClass: 'icon-gouwuche',  // iconfont 类名
  bgColor: '#f0f6ff',
  iconBgColor: '#409eff',
  route: '/pages/package-order/package-order'
}
```

#### `pages/home/home.wxss`
**修改内容**：
- 添加了 `@import "../../styles/iconfont.wxss";`

## 接下来你需要做的

### 步骤 1：在阿里巴巴图标库创建项目

1. 访问 https://www.iconfont.cn/
2. 登录（可使用 GitHub 账号）
3. 点击"资源管理" → "我的项目" → "新建项目"
4. 项目名称：`cloud_app_icons`
5. FontClass/Symbol 前缀：`icon-`

### 步骤 2：添加图标

根据首页功能，搜索并添加以下图标：

**常用服务（4个）**：
- `icon-gouwuche` - 购物车（套餐订购）
- `icon-zhangdan` - 账单（我的账单）
- `icon-kefu` - 客服（在线客服）
- `icon-tuiding` - 退订（业务退订）

**全部功能（10个）**：
- `icon-chaxun` - 搜索/查询（产品查询）
- `icon-chongzhi` - 充值（预充值）
- `icon-guohu` - 过户（变更过户）
- `icon-xufei` - 续费（自助续费）
- `icon-shenqing` - 申请（业务申请）
- `icon-xieyi` - 协议（电子协议）
- `icon-kaipiao` - 发票（开票）
- `icon-tousu` - 举报（举报投诉）
- `icon-pingjia` - 评价/星星（服务评价）
- `icon-daikou` - 银行卡/扣款（代缴代扣）

**其他（1个）**：
- `icon-tongzhi` - 通知/铃铛（通知图标）

### 步骤 3：生成在线链接

1. 在项目页面点击"Font class"
2. 点击"查看在线链接"
3. 复制生成的 CSS 链接

示例：`//at.alicdn.com/t/c/font_4701234_abcdefg.css`

### 步骤 4：更新 iconfont.wxss

打开 `styles/iconfont.wxss`，找到 `@font-face` 部分：

```css
@font-face {
  font-family: "iconfont";
  /* 替换下面三行的 URL */
  src: url('//at.alicdn.com/t/c/font_YOUR_PROJECT_ID.woff2?t=YOUR_TIMESTAMP') format('woff2'),
       url('//at.alicdn.com/t/c/font_YOUR_PROJECT_ID.woff?t=YOUR_TIMESTAMP') format('woff'),
       url('//at.alicdn.com/t/c/font_YOUR_PROJECT_ID.ttf?t=YOUR_TIMESTAMP') format('truetype');
}
```

将 `YOUR_PROJECT_ID` 和 `YOUR_TIMESTAMP` 替换为你的实际值。

### 步骤 5：更新图标类名和 Unicode

在 iconfont 项目页面，查看每个图标的：
- **Font class**（类名，如 `icon-gouwuche`）
- **Unicode**（编码，如 `&#xe600;` 对应 `\e600`）

更新 `styles/iconfont.wxss` 中的对应部分：

```css
.icon-gouwuche:before {
  content: "\e600";  /* 替换为实际的 Unicode */
}
```

### 步骤 6：配置域名白名单

在微信公众平台后台：
1. 登录 https://mp.weixin.qq.com/
2. 进入"开发" → "开发管理" → "开发设置"
3. 在"服务器域名"中添加：`at.alicdn.com`

### 步骤 7：编译测试

1. 在微信开发者工具中编译项目
2. 检查首页图标是否正常显示
3. 如果显示为方块，检查：
   - 字体 URL 是否正确
   - 类名是否匹配
   - Unicode 编码是否正确
   - 域名白名单是否配置

## 图标对照表

| 功能 | 旧图标 | 新类名 | 推荐搜索关键词 |
|------|--------|--------|----------------|
| 套餐订购 | 🛒 | icon-gouwuche | 购物车、订购 |
| 我的账单 | 📄 | icon-zhangdan | 账单、订单 |
| 在线客服 | 💬 | icon-kefu | 客服、咨询 |
| 业务退订 | 🔄 | icon-tuiding | 退订、取消 |
| 产品查询 | 🔍 | icon-chaxun | 搜索、查询 |
| 预充值 | 💰 | icon-chongzhi | 充值、钱包 |
| 变更过户 | 🔄 | icon-guohu | 过户、转移 |
| 自助续费 | 📅 | icon-xufei | 续费、循环 |
| 业务申请 | 📝 | icon-shenqing | 申请、表单 |
| 电子协议 | 📋 | icon-xieyi | 协议、文档 |
| 开票 | 🧾 | icon-kaipiao | 发票、票据 |
| 举报投诉 | ⚠️ | icon-tousu | 举报、警告 |
| 服务评价 | ⭐ | icon-pingjia | 评价、星星 |
| 代缴代扣 | 💳 | icon-daikou | 银行卡、扣款 |
| 通知 | 🔔 | icon-tongzhi | 通知、铃铛 |

## 常见问题

### Q1: 图标不显示，显示为方块
**A**: 检查字体文件 URL 是否正确，域名白名单是否配置

### Q2: 部分图标显示，部分不显示
**A**: 检查类名是否正确，Unicode 编码是否匹配

### Q3: 如何更换图标
**A**: 在 iconfont 项目中替换图标，更新代码，重新生成链接

### Q4: 如何调整图标大小
**A**: 使用 CSS 的 `font-size` 属性

### Q5: 如何调整图标颜色
**A**: 使用 CSS 的 `color` 属性

## 参考资料

- [阿里巴巴图标库官网](https://www.iconfont.cn/)
- [iconfont使用指南.md](./iconfont使用指南.md)
- [微信小程序官方文档](https://developers.weixin.qq.com/miniprogram/dev/framework/)

## 注意事项

1. ⚠️ 图标类名必须与 iconfont 项目中的 Font class 完全一致
2. ⚠️ Unicode 编码格式为 `\eXXX`，不是 `&#xeXXX;`
3. ⚠️ 字体 URL 必须使用 `//` 开头（协议相对路径）
4. ⚠️ 必须在微信公众平台配置域名白名单
5. ⚠️ 每次更新图标后需要重新生成链接并更新代码

完成以上步骤后，你的首页就可以使用阿里巴巴图标库的图标了！
