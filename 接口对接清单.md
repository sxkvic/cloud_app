# æ¥å£å¯¹æ¥æ¸…å• - å¿«é€Ÿå‚è€ƒ

## ğŸ¯ éœ€è¦å¯¹æ¥çš„æ¥å£ï¼ˆå…± 32 ä¸ªï¼‰

### 1ï¸âƒ£ ç”¨æˆ·è®¤è¯æ¨¡å—ï¼ˆ4ä¸ªæ¥å£ï¼‰

| åºå· | æ¥å£è·¯å¾„ | æ–¹æ³• | åŠŸèƒ½è¯´æ˜ | å¯¹åº”é¡µé¢ | ä¼˜å…ˆçº§ |
|------|---------|------|---------|---------|--------|
| 1 | `/api/getOpenidByCode` | POST | é€šè¿‡å¾®ä¿¡codeè·å–openid | login | â­â­â­â­â­ |
| 2 | `/api/generateTokenByOpenid` | POST | é€šè¿‡openidç”Ÿæˆtoken | login | â­â­â­â­â­ |
| 3 | `/api/createUser` | POST | åˆ›å»ºæ–°ç”¨æˆ·å¹¶ç”Ÿæˆtoken | login | â­â­â­â­â­ |
| 4 | `/api/getUserInfo` | GET | è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯ | my | â­â­â­â­â­ |

---

### 2ï¸âƒ£ è®¾å¤‡ç»‘å®šæ¨¡å—ï¼ˆ4ä¸ªæ¥å£ï¼‰

| åºå· | æ¥å£è·¯å¾„ | æ–¹æ³• | åŠŸèƒ½è¯´æ˜ | å¯¹åº”é¡µé¢ | ä¼˜å…ˆçº§ |
|------|---------|------|---------|---------|--------|
| 5 | `/api/bindDevice` | POST | ç»‘å®šè®¾å¤‡åˆ°ç”¨æˆ· | bind-device-code | â­â­â­â­â­ |
| 6 | `/api/getUserDevices` | GET | è·å–ç”¨æˆ·ç»‘å®šçš„è®¾å¤‡åˆ—è¡¨ | my | â­â­â­â­ |
| 7 | `/api/unbindDevice` | POST | è§£ç»‘è®¾å¤‡ | my | â­â­â­â­ |
| 8 | `/api/getCustomerByDeviceCode/:device_code` | GET | æ ¹æ®è®¾å¤‡ç æŸ¥è¯¢å®¢æˆ·ä¿¡æ¯ | bind-device-code | â­â­â­â­ |

---

### 3ï¸âƒ£ å¥—é¤ç®¡ç†æ¨¡å—ï¼ˆ3ä¸ªæ¥å£ï¼‰

| åºå· | æ¥å£è·¯å¾„ | æ–¹æ³• | åŠŸèƒ½è¯´æ˜ | å¯¹åº”é¡µé¢ | ä¼˜å…ˆçº§ |
|------|---------|------|---------|---------|--------|
| 9 | `/api/packages/getPackagesList` | GET | è·å–å¥—é¤åˆ—è¡¨ | package-order | â­â­â­â­â­ |
| 10 | `/api/packages/getPackageDetail/:id` | GET | è·å–å¥—é¤è¯¦æƒ… | package-order | â­â­â­â­ |
| 11 | `/api/orders` | POST | åˆ›å»ºè®¢å• | package-order | â­â­â­â­â­ |

---

### 4ï¸âƒ£ è´¦å•ç®¡ç†æ¨¡å—ï¼ˆ2ä¸ªæ¥å£ï¼‰

| åºå· | æ¥å£è·¯å¾„ | æ–¹æ³• | åŠŸèƒ½è¯´æ˜ | å¯¹åº”é¡µé¢ | ä¼˜å…ˆçº§ |
|------|---------|------|---------|---------|--------|
| 12 | `/api/customerBill/getCustomerBillList` | GET | è·å–è´¦å•åˆ—è¡¨ | my-bill | â­â­â­â­â­ |
| 13 | `/api/customerBill/getCustomerBillDetail/:id` | GET | è·å–è´¦å•è¯¦æƒ… | my-bill | â­â­â­ |

---

### 5ï¸âƒ£ æ”¯ä»˜æ¨¡å—ï¼ˆ3ä¸ªæ¥å£ï¼‰

| åºå· | æ¥å£è·¯å¾„ | æ–¹æ³• | åŠŸèƒ½è¯´æ˜ | å¯¹åº”é¡µé¢ | ä¼˜å…ˆçº§ |
|------|---------|------|---------|---------|--------|
| 14 | `/api/miniprogram/pay` | POST | åˆ›å»ºå°ç¨‹åºæ”¯ä»˜è®¢å• | pre-recharge | â­â­â­â­â­ |
| 15 | `/api/payments/status/enhanced` | GET | æŸ¥è¯¢æ”¯ä»˜çŠ¶æ€ï¼ˆå¢å¼ºç‰ˆï¼‰ | pre-recharge | â­â­â­â­â­ |
| 16 | `/api/payments/cancel` | POST | å–æ¶ˆæ”¯ä»˜ | pre-recharge | â­â­â­ |

---

### 6ï¸âƒ£ å¼€ç¥¨ç®¡ç†æ¨¡å—ï¼ˆ4ä¸ªæ¥å£ï¼‰

| åºå· | æ¥å£è·¯å¾„ | æ–¹æ³• | åŠŸèƒ½è¯´æ˜ | å¯¹åº”é¡µé¢ | ä¼˜å…ˆçº§ |
|------|---------|------|---------|---------|--------|
| 17 | `/api/v1/invoices/getInvoiceList` | GET | è·å–å¯å¼€ç¥¨è®¢å•åˆ—è¡¨ | invoice | â­â­â­â­â­ |
| 18 | `/api/v1/invoices/invoice-info/createOrUpdateInvoiceInfo` | POST | åˆ›å»ºæˆ–æ›´æ–°å¼€ç¥¨ä¿¡æ¯ | invoice | â­â­â­â­â­ |
| 19 | `/api/v1/invoices/create/:id` | POST | ä¸ºè®¢å•åˆ›å»ºå‘ç¥¨ | invoice | â­â­â­â­â­ |
| 20 | `/api/v1/invoices/invoice-info/device/:device_no` | GET | æ ¹æ®è®¾å¤‡å·è·å–å¼€ç¥¨ä¿¡æ¯ | invoice | â­â­â­â­ |

---

### 7ï¸âƒ£ è®¢å•ç®¡ç†æ¨¡å—ï¼ˆ2ä¸ªæ¥å£ï¼‰

| åºå· | æ¥å£è·¯å¾„ | æ–¹æ³• | åŠŸèƒ½è¯´æ˜ | å¯¹åº”é¡µé¢ | ä¼˜å…ˆçº§ |
|------|---------|------|---------|---------|--------|
| 21 | `/api/orders` | GET | æŸ¥è¯¢è®¢å•åˆ—è¡¨ | å¤šä¸ªé¡µé¢ | â­â­â­â­â­ |
| 22 | `/api/orders/:id` | GET | è·å–è®¢å•è¯¦æƒ… | å¤šä¸ªé¡µé¢ | â­â­â­â­ |

---

### 8ï¸âƒ£ å·¥å…·ç±»æ¥å£ï¼ˆ10ä¸ªæ¥å£ï¼‰

| åºå· | æ¥å£è·¯å¾„ | æ–¹æ³• | åŠŸèƒ½è¯´æ˜ | å¯¹åº”é¡µé¢ | ä¼˜å…ˆçº§ |
|------|---------|------|---------|---------|--------|
| 23 | `/api/v1/tools/provinces` | GET | è·å–çœä»½åˆ—è¡¨ | å¤šä¸ªé¡µé¢ | â­â­â­ |
| 24 | `/api/v1/tools/provinces/:provinceId/cities` | GET | è·å–åŸå¸‚åˆ—è¡¨ | å¤šä¸ªé¡µé¢ | â­â­â­ |
| 25 | `/api/v1/tools/getBannersList` | GET | è·å–Banneråˆ—è¡¨ | home | â­â­â­ |
| 26 | `/api/v1/tools/getArticlesList` | GET | è·å–æ¨æ–‡åˆ—è¡¨ | home | â­â­ |
| 27 | `/api/v1/tools/getArticleDetail/:id` | GET | è·å–æ¨æ–‡è¯¦æƒ… | home | â­â­ |

---

## âŒ ä¸éœ€è¦å¯¹æ¥çš„æ¥å£ï¼ˆçº¦ 88 ä¸ªï¼‰

### ç®¡ç†åå°ä¸“ç”¨æ¥å£

#### ç®¡ç†å‘˜è®¤è¯ï¼ˆ8ä¸ªï¼‰
- `POST /api/admin/login` - ç®¡ç†å‘˜ç™»å½•
- `POST /api/admin/logout` - ç®¡ç†å‘˜ç™»å‡º
- `GET /api/admin/getWebUserInfo` - è·å–ç®¡ç†å‘˜ä¿¡æ¯
- `POST /api/admin/change-password` - ä¿®æ”¹å¯†ç 
- `POST /api/admin/create-account` - åˆ›å»ºç®¡ç†å‘˜
- `GET /api/admin/getWebUserList` - ç®¡ç†å‘˜åˆ—è¡¨
- `POST /api/admin/delete-account` - åˆ é™¤ç®¡ç†å‘˜
- `PUT /api/admin/updateWebUser` - æ›´æ–°ç®¡ç†å‘˜ä¿¡æ¯

#### è®¾å¤‡ç®¡ç†ï¼ˆ5ä¸ªï¼‰
- `POST /api/createDevice` - åˆ›å»ºè®¾å¤‡
- `GET /api/getDevicesList` - è®¾å¤‡åˆ—è¡¨
- `GET /api/getDeviceDetail/:id` - è®¾å¤‡è¯¦æƒ…
- `PUT /api/updateDevice/:id` - æ›´æ–°è®¾å¤‡
- `DELETE /api/deleteDevice/:id` - åˆ é™¤è®¾å¤‡

#### å®¢æˆ·ç®¡ç†ï¼ˆ5ä¸ªï¼‰
- `POST /api/createCustomer` - åˆ›å»ºå®¢æˆ·
- `GET /api/getCustomerLists` - å®¢æˆ·åˆ—è¡¨
- `GET /api/getCustomerDetail/:id` - å®¢æˆ·è¯¦æƒ…
- `PUT /api/updateCustomer/:id` - æ›´æ–°å®¢æˆ·
- `DELETE /api/deleteCustomer/:id` - åˆ é™¤å®¢æˆ·

#### è®¢å•ç®¡ç†ï¼ˆ3ä¸ªï¼‰
- `PUT /api/orders/payment-status` - ä¿®æ”¹æ”¯ä»˜çŠ¶æ€
- `DELETE /api/orders/:id` - åˆ é™¤è®¢å•
- `PUT /api/orders/:id/review` - æ›´æ–°å®¡æ ¸çŠ¶æ€

#### ç»‘å®šç®¡ç†ï¼ˆ7ä¸ªï¼‰
- `POST /api/createBinding` - åˆ›å»ºç»‘å®š
- `GET /api/getBindingsList` - ç»‘å®šåˆ—è¡¨
- `GET /api/getBindingsByCustomer/:customer_id` - å®¢æˆ·ç»‘å®š
- `GET /api/checkDeviceBinding/:device_id` - æ£€æŸ¥ç»‘å®š
- `GET /api/getBindingDetail/:id` - ç»‘å®šè¯¦æƒ…
- `PUT /api/updateBinding/:id` - æ›´æ–°ç»‘å®š
- `DELETE /api/deleteBinding/:id` - åˆ é™¤ç»‘å®š

#### æ–‡ä»¶ç®¡ç†ï¼ˆ3ä¸ªï¼‰
- `POST /api/upload` - ä¸Šä¼ æ–‡ä»¶
- `DELETE /api/:fileId` - åˆ é™¤æ–‡ä»¶
- `GET /api/list` - æ–‡ä»¶åˆ—è¡¨

#### é‚®ä»¶æœåŠ¡ï¼ˆ2ä¸ªï¼‰
- `POST /api/email/send-attachment` - å‘é€é‚®ä»¶
- `GET /api/email/test-config` - æµ‹è¯•é…ç½®

#### å¥—é¤ç®¡ç†ï¼ˆ3ä¸ªï¼‰
- `POST /api/packages/addPackage` - æ–°å¢å¥—é¤
- `PUT /api/packages/updatePackage/:id` - æ›´æ–°å¥—é¤
- `DELETE /api/packages/deletePackage/:id` - åˆ é™¤å¥—é¤

#### è´¦å•ç®¡ç†ï¼ˆ4ä¸ªï¼‰
- `POST /api/customerBill/initTable` - åˆå§‹åŒ–è¡¨
- `PUT /api/customerBill/updateBillStatus/:id` - æ›´æ–°çŠ¶æ€
- `GET /api/customerBill/exportBillPDF/:id` - å¯¼å‡ºPDF
- `POST /api/customerBill/sendBillEmail/:id` - å‘é€é‚®ä»¶

#### å‘ç¥¨ç®¡ç†ï¼ˆ3ä¸ªï¼‰
- `POST /api/v1/invoices/initialize` - åˆå§‹åŒ–è¡¨
- `GET /api/v1/invoices/invoice-info/list` - å¼€ç¥¨ä¿¡æ¯åˆ—è¡¨
- `DELETE /api/v1/invoices/invoice-info/:id` - åˆ é™¤å¼€ç¥¨ä¿¡æ¯

#### Bannerå’Œæ¨æ–‡ç®¡ç†ï¼ˆ7ä¸ªï¼‰
- `POST /api/v1/tools/createBanner` - åˆ›å»ºBanner
- `DELETE /api/v1/tools/deleteBanner/:id` - åˆ é™¤Banner
- `PUT /api/v1/tools/updateBannerStatus/:id/status` - æ›´æ–°BannerçŠ¶æ€
- `POST /api/v1/tools/createArticle` - åˆ›å»ºæ¨æ–‡
- `PUT /api/v1/tools/updateArticle/:id` - æ›´æ–°æ¨æ–‡
- `DELETE /api/v1/tools/deleteArticle/:id` - åˆ é™¤æ¨æ–‡
- `PUT /api/v1/tools/updateArticleStatus/:id` - æ›´æ–°æ¨æ–‡çŠ¶æ€

#### ç»Ÿè®¡å’Œæ—¥å¿—ï¼ˆ2ä¸ªï¼‰
- `GET /api/v1/tools/stats/customers` - å®¢æˆ·ç»Ÿè®¡
- `GET /api/v1/tools/operation-logs` - æ“ä½œæ—¥å¿—

#### ç®¡ç†å‘˜æ”¯ä»˜ï¼ˆ4ä¸ªï¼‰
- `POST /api/admin/payments/web/create` - ç®¡ç†å‘˜åˆ›å»ºç½‘é¡µæ”¯ä»˜
- `POST /api/admin/miniprogram/pay` - ç®¡ç†å‘˜åˆ›å»ºå°ç¨‹åºæ”¯ä»˜
- `GET /api/admin/payments/status` - ç®¡ç†å‘˜æŸ¥è¯¢æ”¯ä»˜
- `POST /api/admin/payments/cancel` - ç®¡ç†å‘˜å–æ¶ˆæ”¯ä»˜

#### æ”¯ä»˜å›è°ƒï¼ˆ3ä¸ªï¼Œç”±æ”¯ä»˜å¹³å°è°ƒç”¨ï¼‰
- `POST /api/payments/wechat-notify` - å¾®ä¿¡å›è°ƒ
- `POST /api/payments/alipay-notify` - æ”¯ä»˜å®å¼‚æ­¥å›è°ƒ
- `GET /api/payments/alipay-return` - æ”¯ä»˜å®åŒæ­¥å›è°ƒ


